<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SmartCity — Meter Login</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root {
      --accent: #0ea5a4;
      --glass-bg: rgba(255, 255, 255, 0.6);
    }
    .glass {
      background: var(--glass-bg);
      border: 1px solid rgba(255,255,255,0.45);
      box-shadow: 0 6px 18px rgba(15,23,42,0.06);
      backdrop-filter: blur(6px);
    }
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
      100% { transform: translateY(0px); }
    }
    .float { animation: float 5s ease-in-out infinite; }
    .focus-accent:focus {
      outline: none;
      box-shadow: 0 0 0 4px rgba(14,165,164,0.12);
      border-color: var(--accent);
    }
  </style>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-50 to-slate-100">
  <main class="min-h-screen flex items-center justify-center p-6">
    <div class="max-w-5xl w-full grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
      <!-- Left side: info -->
      <section class="p-8 md:p-12 rounded-2xl bg-white glass float">
        <div class="flex items-center gap-3 mb-6">
          <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400 to-sky-500 flex items-center justify-center text-white text-lg font-bold shadow-lg">SC</div>
          <div>
            <h1 class="text-xl md:text-2xl font-semibold">SmartCity — Electricity Payments</h1>
            <p class="text-xs text-slate-500 -mt-1">Pay and track your meter recharges securely.</p>
          </div>
        </div>

        <h2 class="text-2xl font-bold mb-3">Recharge your home meter instantly ⚡</h2>
        <p class="text-slate-600 mb-6">
          Use your registered email and password to log in. Demo users can use the test accounts below.
        </p>

        <ul class="space-y-3 text-sm text-slate-700">
          <li>✔ <strong>user@example.com / pass123</strong></li>
          <li>✔ <strong>raj@smartcity.com / raj2025</strong></li>
        </ul>
      </section>

      <!-- Right side: login -->
      <section id="login" class="p-6 rounded-2xl bg-white shadow-md glass">
        <div class="mb-4">
          <h3 class="text-lg font-semibold">Login to your account</h3>
          <p class="text-sm text-slate-500">Access your meter details and recharge history.</p>
        </div>

        <form id="loginForm" class="space-y-4" autocomplete="on">
          <div>
            <label class="text-xs font-medium text-slate-600">Email</label>
            <input id="email" type="email" required
                   class="mt-1 block w-full px-4 py-2 rounded-lg border border-slate-200 focus-accent focus:border-transparent"
                   placeholder="you@example.com" />
          </div>

          <div>
            <label class="text-xs font-medium text-slate-600">Password</label>
            <input id="password" type="password" required
                   class="mt-1 block w-full px-4 py-2 rounded-lg border border-slate-200 focus-accent focus:border-transparent"
                   placeholder="••••••••" />
          </div>

          <div>
            <div id="loginError" class="text-sm text-red-600 min-h-[1.2em]"></div>
            <button type="submit"
                    class="w-full mt-2 inline-flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-teal-500 to-cyan-500 text-white font-semibold shadow hover:scale-[1.01] transition-transform">
              Sign in
            </button>
          </div>
        </form>

        <!-- ✅ Demo Autofill Button -->
        <div class="pt-6 text-center">
          <button onclick="fillDemo()"
                  class="text-sm px-4 py-2 bg-slate-100 rounded-lg hover:bg-slate-200 text-slate-700 transition">
            Autofill Demo Credentials
          </button>
        </div>

        <p class="mt-4 text-xs text-slate-400 text-center">
          This demo uses localStorage for login simulation. In production, integrate with a secure backend.
        </p>
      </section>
    </div>
  </main>

  <script>
    // Mock users
    const USERS = [
      { email: 'user@example.com', password: 'pass123', customerId: 'CCC-1001', name: 'Asha Patel', meter: 'MTR-908172' },
      { email: 'raj@smartcity.com', password: 'raj2025', customerId: 'CCC-2077', name: 'Raj Kumar', meter: 'MTR-118291' }
    ];

    const form = document.getElementById('loginForm');
    const loginError = document.getElementById('loginError');
    const emailEl = document.getElementById('email');
    const passwordEl = document.getElementById('password');

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      loginError.textContent = '';

      const email = emailEl.value.trim();
      const password = passwordEl.value;

      const found = USERS.find(u => u.email.toLowerCase() === email.toLowerCase() && u.password === password);
      if (!found) {
        loginError.textContent = 'Invalid email or password.';
        return;
      }

      localStorage.setItem('sc_user', JSON.stringify(found));
      location.href = 'dashboard.html';
    });

    function fillDemo() {
      emailEl.value = 'user@example.com';
      passwordEl.value = 'pass123';
    }

    (function(){
      const sess = localStorage.getItem('sc_user');
      if (sess) location.href = 'dashboard.html';
    })();
  </script>
</body>
</html>
